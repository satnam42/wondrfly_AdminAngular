<div class="container">

  <!-- <h4 class="text-center">Published Programs List</h4> -->
  <div class="row">
    <div class="col-7">
        <div class="search-section">
            <input type="text" class="search_input" (keyup)="updateFilter($event.target.value)" placeholder="Search By Program Name" [(ngModel)]="searchText" />
            <!-- <i class="fa fa-filter filter-icon" aria-hidden="true" *ngIf="searchText"></i> -->
            <i aria-hidden="true" *ngIf="!searchText"></i>
            <span class="back-search">
      <mat-icon>search</mat-icon>
      <!-- <mat-icon style="position:relative;top: 4px; float: right;
                      ">search</mat-icon> -->
    </span>
        </div>
</div>
<div class="col-2 down"> <h4> Total:  <span>{{temp?.message}}</span></h4></div>
 
<div class="col-3 down"><h4 class="text-center">Published Programs</h4></div>
      
    </div>
  
  <div class="program-list" #scrollToTop infiniteScroll [infiniteScrollDistance]="2" [infiniteScrollThrottle]="50"
  (scrolled)="loadMore()" [scrollWindow]="false">
  <table class="table forum-table">
    <tbody>
      <tr>
        <th>
          Program Name
      </th>
      <th>
          Program ID
      </th>

      <th>
          Provider Name
      </th>
      <th>
          Price
      </th>

      <th colspan="2">
          Published
      </th>

      </tr>
      <tr *ngFor="let publish of rows">
        <td>
          <span (click)="routeToDetailPage(publish)"> <a href="{{detailPageUrl}}" target="_blank">{{publish.name}}</a></span>
      </td>
      <td>
          <span (click)="openPopUp(publish)">{{ publish._id }}</span>
      </td>
      <td>
          <span (click)="openPopUp(publish)">{{publish.programOwner}}</span>
      </td>
      <td>
          <span (click)="openPopUp(publish)" *ngIf="publish.isFree">Free</span>
          <span *ngIf="!publish.isFree"><span (click)="openPopUp(publish)">${{publish.pricePerParticipant}}</span><span *ngIf="publish.pricePeriod.periodAmount">/{{publish.pricePeriod.periodAmount}}</span></span>
      </td>
      <td>
          <!-- <span *ngIf="publish?.isPublished" (click)="publishUnpublishProgram(publish,i,false)">Click To UnPublish</span>
          <span *ngIf="!publish?.isPublished" (click)="publishUnpublishProgram(publish,i,true)">Click To Publish</span> -->
          <mat-slide-toggle [checked]="publish?.isPublished" color="primary"
          (change)="publishUnpublishProgram($event,publish)">
      </mat-slide-toggle>

      </td>
      <td>
        <button mat-icon-button [matMenuTriggerFor]="msgMenu" class="hidden-on-open">
<mat-icon class="text-muted">more_vert</mat-icon>
</button>
        <mat-menu #msgMenu="matMenu">

          <button mat-menu-item (click)="manage(publish)">
            <mat-icon class="col-blue">open_in_new</mat-icon>Manage
          </button>
            <button mat-menu-item (click)="edit(publish)">
<mat-icon class="col-blue">edit</mat-icon>Edit
</button>
        </mat-menu>

    </td>
      </tr>
    </tbody>                 
  </table>
</div>
</div>